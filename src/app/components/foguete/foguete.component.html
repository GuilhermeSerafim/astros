<div class="rocket-container">
    <svg 
        class="rocket"
        viewBox="0 0 200 400" 
        xmlns="http://www.w3.org/2000/svg"
        [class.rocket--highlighted]="isSelected"
        (click)="selectRocket()" 
    >
        <defs>
            <!-- Sombra -->
            <filter id="dropShadow" x="-20%" y="-20%" width="140%" height="140%">
                <feGaussianBlur in="SourceAlpha" stdDeviation="4" />
                <feOffset dx="0" dy="4" result="offsetblur" />
                <feMerge>
                    <feMergeNode />
                    <feMergeNode in="SourceGraphic" />
                </feMerge>
            </filter>
            <!-- Gradiente do corpo -->
            <linearGradient id="bodyGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" [attr.stop-color]="color" />
                <stop offset="100%" [attr.stop-color]=color [attr.stop-opacity]="0.1" />
            </linearGradient>
            <!-- Gradiente da janela -->
            <radialGradient id="windowGrad" cx="50%" cy="50%" r="50%">
                <stop offset="0%" [attr.stop-color]="color" />
                <stop offset="100%" [attr.stop-opacity]="0.1" />
            </radialGradient>
            <!-- Gradiente da chama -->
            <linearGradient id="flameGrad" x1="50%" y1="0%" x2="50%" y2="100%">
                <stop offset="0%" stop-color="#ffd54f" />
                <stop offset="50%" stop-color="#ff8f00" />
                <stop offset="100%" stop-color="#d84315" />
            </linearGradient>
        </defs>

        <g filter="url(#dropShadow)">
            <!-- Corpo -->
            <path [style.fill]="color" class="body" d="M100,10 L140,160 A40,40 0 0,1 60,160 Z" />

            <!-- Janela -->
            <circle  [style.fill]="color" class="window" cx="100" cy="90" r="25" />

            <!-- Aletas -->
            <path class="fin left" [style.fill]="color" d="M60,160 L20,220 L80,200 Z" />
            <path class="fin right" [style.fill]="color" d="M140,160 L180,220 L120,200 Z" />

            <!-- Chama animada -->
            <path class="flame" d="M85,160 C90,220 110,220 115,160 Z" />
        </g>
    </svg>
</div>